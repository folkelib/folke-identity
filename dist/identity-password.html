<section class="identity-popin popin">
    <header>
        <popin-close-button></popin-close-button>
        <div>{{identity.changePassword}}</div>
    </header>

    <div>
        <!-- ko if: hasPassword -->
        <form data-bind="submit: submitChange">
            <fieldset>
                <label>{{identity.currentPassword}}</label>
                <input type="password" data-bind="textInput: formChange.oldPassword, validate: formChange.oldPassword" />
            </fieldset>
            <fieldset>
                <label>{{identity.newPassword}}</label>
                <input type="password" data-bind="textInput: formChange.newPassword, validate: formChange.newPassword" />
            </fieldset>
            <fieldset>
                <label>{{accountRegister.confirmPassword}}</label>
                <input type="password" data-bind="textInput: formChange.confirmPassword, validate: formChange.confirmPassword" />
            </fieldset>
            <fieldset>
                <button type="submit" data-bind="enable: formChange.isValid() && !loading()">{{identity.edit}}</button>
            </fieldset>
        </form>
        <!-- /ko -->
        <!-- ko ifnot: hasPassword -->
        <form data-bind="submit: submitSet">
            <fieldset>
                <label>{{identity.password}}</label>
                <input type="password" data-bind="textInput: formSet.newPassword, validate: formSet.newPassword" />
            </fieldset>
            <fieldset>
                <label>{{identity.confirmPassword}}</label>
                <input type="password" data-bind="textInput: formSet.confirmPassword, validate: formSet.confirmPassword" />
            </fieldset>
            <fieldset>
                <button type="submit" data-bind="enable: formSet.isValid() && !loading()">{{identity.edit}}</button>
            </fieldset>
        </form>
        <!-- /ko -->
    </div>
    <footer>
        <a href="#identity-email">{{identity.editEmail}}</a>
    </footer>
</section>